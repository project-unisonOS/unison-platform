# Unison Platform Environment Configuration
# Copy this file to .env and modify values as needed

# =============================================================================
# PLATFORM CONFIGURATION
# =============================================================================
UNISON_ENV=development
LOG_LEVEL=info
DEBUG=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=unison
POSTGRES_USER=unison
POSTGRES_PASSWORD=unison_password
POSTGRES_SSL_MODE=disable
POSTGRES_POOL_SIZE=20
POSTGRES_MAX_OVERFLOW=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=20

# =============================================================================
# NATS CONFIGURATION
# =============================================================================
NATS_HOST=nats
NATS_PORT=4222
NATS_USER=
NATS_PASSWORD=
NATS_JETSTREAM=true
NATS_STORE_DIR=/data

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# SERVICE PORTS
# =============================================================================
# Core Services
ORCHESTRATOR_PORT=8090
CONTEXT_PORT=8081
POLICY_PORT=8083
AUTH_PORT=8083

# Intent Orchestration Services
INTENT_GRAPH_PORT=8080
CONTEXT_GRAPH_PORT=8091
EXPERIENCE_RENDERER_PORT=8092
AGENT_VDI_PORT=8093

# I/O Services
IO_SPEECH_PORT=8084
IO_VISION_PORT=8086
IO_CORE_PORT=8085

# Inference Services
INFERENCE_PORT=8087

# Infrastructure Services
STORAGE_PORT=8082

# =============================================================================
# SERVICE URLS (Internal Communication)
# =============================================================================
# Core Service URLs
CONTEXT_URL=http://context:8081
POLICY_URL=http://policy:8083
AUTH_URL=http://auth:8083
ORCHESTRATOR_URL=http://orchestrator:8080

# Intent Orchestration URLs
INTENT_GRAPH_URL=http://intent-graph:8080
CONTEXT_GRAPH_URL=http://context-graph:8081
EXPERIENCE_RENDERER_URL=http://experience-renderer:8082
AGENT_VDI_URL=http://agent-vdi:8083

# I/O Service URLs
IO_SPEECH_URL=http://io-speech:8084
IO_VISION_URL=http://io-vision:8086
IO_CORE_URL=http://io-core:8085

# Inference URLs
INFERENCE_URL=http://inference:8087

# Infrastructure URLs
STORAGE_URL=http://storage:8082

# =============================================================================
# INFERENCE CONFIGURATION
# =============================================================================
UNISON_INFERENCE_PROVIDER=ollama
UNISON_INFERENCE_MODEL=qwen2.5:1.5b
OLLAMA_BASE_URL=http://ollama:11434
OPENAI_API_KEY=
ANTHROPIC_API_KEY=

# =============================================================================
# MODEL PACKS (Alpha)
# =============================================================================
# Alpha evaluation profile: defaults Qwen + speech pack gating (where enabled).
UNISON_MODEL_PACK_PROFILE=alpha/default
# Optional gate (used by orchestrator Phase 1.1 where enabled): pack_id@version
# UNISON_MODEL_PACK_REQUIRED=unison.phase1.1.speech@0.1.1

# =============================================================================
# AGENT VDI CONFIGURATION
# =============================================================================
VDI_DISPLAY=:100
VDI_SCREEN_WIDTH=1920
VDI_SCREEN_HEIGHT=1080
VDI_COLOR_DEPTH=24
VDI_REFRESH_RATE=60
VDI_XDG_RUNTIME_DIR=/tmp

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:8090
ALLOWED_HOSTS=localhost,127.0.0.1
SECURE_COOKIES=false
SESSION_TIMEOUT=3600

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
JAEGER_HOST=jaeger
JAEGER_PORT=14268
PROMETHEUS_HOST=prometheus
PROMETHEUS_PORT=9090

# OpenTelemetry Configuration
OTEL_EXPORTER_JAEGER_ENDPOINT=http://jaeger:14268/api/traces
OTEL_EXPORTER_PROMETHEUS_ENDPOINT=http://prometheus:9090
OTEL_SERVICE_NAME=unison-platform
OTEL_RESOURCE_ATTRIBUTES=service.name=unison-platform,service.version=1.0.0

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_FORMAT=json
LOG_FILE=/var/log/unison/app.log
LOG_ROTATION=daily
LOG_RETENTION=30

# Structured Logging
STRUCTURED_LOGGING=true
LOG_CORRELATION_ID=true
LOG_REQUEST_ID=true

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# Connection Pooling
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
REDIS_POOL_SIZE=20

# Rate Limiting
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=60

# Cache Configuration
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Hot Reload
RELOAD=true
WATCH_FILES=true

# Debug Settings
DEBUG_SQL=false
DEBUG_REQUESTS=false
PROFILING_ENABLED=false

# =============================================================================
# PRODUCTION CONFIGURATION
# =============================================================================
# Performance
WORKERS=4
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65

# Security
SSL_VERIFY=true
STRICT_TRANSPORT_SECURITY=true
CONTENT_SECURITY_POLICY=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_INTENT_GRAPH=true
FEATURE_CONTEXT_GRAPH=true
FEATURE_EXPERIENCE_RENDERER=true
FEATURE_AGENT_VDI=true
FEATURE_OBSERVABILITY=true
FEATURE_METRICS=true
FEATURE_TRACING=true

# =============================================================================
# THIRD-PORY INTEGRATIONS
# =============================================================================
# External APIs
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=
EMAIL_SMTP_HOST=
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=
EMAIL_PASSWORD=

# Storage Providers
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET=

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
TEST_DATABASE_URL=postgresql://unison:unison_password@localhost:5432/unison_test
TEST_REDIS_URL=redis://localhost:6379/1
TEST_NATS_URL=nats://localhost:4222

# =============================================================================
# MIGRATION CONFIGURATION
# =============================================================================
MIGRATION_AUTO_RUN=true
MIGRATION_BACKUP=true
MIGRATION_TIMEOUT=300

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
BACKUP_ENCRYPTION_KEY=
